[
  {
    "build_config": {
      "version": "v1.0alpha",
      "name": "SampleStrategy",
      "trading": {
        "variables": {
          "timeframe_d1": { "type": "timeframe", "value": "d1", "name": "timeframe_d1", "required": true,
                         "script_settings": true,
                         "valid": [{"condition": "not %obj", "errmsg": "Invalid timeframe"}]
          },
          "timeframe": { "type": "timeframe", "value": "H1", "name": "timeframe", "required": true,
                         "script_settings": true,
                         "valid": [{"condition": "not %obj", "errmsg": "Invalid timeframe"}]
          }
        },
        "symbols": {
          "current_symbol_d1": {
            "symbol": 0,
            "timeframe": "@variables/timeframe_d1",
            "size": 60
          },
          "current_symbol": {
            "symbol": 0,
            "timeframe": "@var/timeframe",
            "size": 60
          }
        },
        "functions": {
            "adx_5": {"module": "indicator", "name": "ADX",
              "params": {"symbol_data": "@symbols/current_symbol_d1", "period": 5, "shift": 0}
            },
            "ma_60": {"module": "indicator", "name": "MA",
              "params": {"symbol_data": "@symbols/current_symbol.close", "period": 60, "shift": 0, "matype": 0}
            },
            "ma_90": {"module": "indicator", "name": "MA",
              "params": {"symbol_data": "@symbols/current_symbol.close", "period": 90, "shift": 0, "matype": 0}
            },
            "tema_60": {"module": "indicator", "name": "TEMA",
              "params": {"symbol_data": "@symbols/current_symbol.close", "period": 60, "shift": 0}
            },
            "tema_90": {"module": "indicator", "name": "TEMA",
              "params": {"symbol_data": "@sym/current_symbol.close", "period": 90, "shift": 0}
            }
        },
        "entry": {
          "order0": {
            "script_settings": false,
            "positions": {"type": "volume", "volume": 1.0},
            "take_profit": {"type": "pips", "pips": 80},
            "stop_loss":  {"type": "pips", "pips": 60}
          },
          "order1": {
            "positions": {"type": "volume", "volume": 1.0},
            "take_profit": {"type": "money", "money": 60},
            "stop_loss":  {"type": "money", "money": -10}
          },
          "order2": {
            "positions": {"type": "volume", "volume": 1.0},
            "take_profit": {"type": "percent", "percent": "10%", "source": "balance"},
            "stop_loss":  {"type": "percent", "percent": "-1%", "source": "balance"}
          },
          "order3": {
            "positions": {"type": "volume", "volume": 1.0},
            "take_profit": {"type": "pl-ratio", "ratio": 4},
            "stop_loss":  {"type": "percent", "percent": "-1%", "source": "balance"}
          },
          "order4": {
            "positions": {"type": "volume", "volume": 1.0},
            "take_profit": {"type": "percent", "percent": "10%", "source": "balance"},
            "stop_loss":  {"type": "pl-ratio", "ratio": 0.3}
          },
          "order5": {
            "positions": {"type": "volume", "volume": 1.0},
            "take_profit": {"type": "percent", "percent": "100%", "source": "atr", "period": 5, "timeframe": "d1"},
            "stop_loss":  {"type": "percent", "percent": "-1%", "source": "balance"}
          },
          "order6": {
            "positions": {"type": "volume", "volume": 1.0},
            "take_profit": {"type": "pl-ratio", "ratio": 1.5},
            "stop_loss": {"type": "percent", "percent": "-100%", "source": "atr", "period": 5, "timeframe": "d1"}
          },
          "order7": {
            "positions": {"type": "money", "money": 100},
            "take_profit": {"type": "pips", "pips": 80},
            "stop_loss":  {"type": "pips", "pips": 60}
          },
          "order8": {
            "positions": {"type": "money", "money": -30},
            "take_profit": {"type": "pips", "pips": 80},
            "stop_loss":  {"type": "pips", "pips": 60}
          },
          "order9": {
            "positions": {"type": "money", "money": 100},
            "take_profit": {"type": "pl-ratio", "ratio": 1.5},
            "stop_loss":  {"type": "pips", "pips": 60}
          },
          "order10": {
            "positions": {"type": "percent", "percent": "10%"},
            "take_profit": {"type": "pips", "pips": 80},
            "stop_loss":  {"type": "pips", "pips": 60}
          },
          "order11": {
            "positions": {"type": "percent", "percent": "10%"},
            "take_profit": {"type": "pl-ratio", "ratio": 1.5},
            "stop_loss": {"type": "percent", "percent": "-100%", "source": "atr", "period": 5, "timeframe": "d1"}
          },
          "order": {
            "positions": {"type": "percent", "percent": "-2%"},
            "take_profit": {"type": "percent", "percent": "100%", "source": "atr", "period": 5, "timeframe": "d1", "shift": 1},
            "stop_loss":  {"type": "pl-ratio", "ratio": 0.3}
          },
          "order12": {
            "positions": {"type": "volume", "volume": 1.0, "martingale": {"ratio": 1}},
            "take_profit": {"type": "money", "money": 60},
            "stop_loss":  {"type": "money", "money": -10}
          },
          "long": {
            "condition": [
              {"op": "and",
                "values": [
                  ["@functions/adx_5", ">", 20],
                  ["@functions/ma_60", ">", "@functions/ma_90"],
                  ["@functions/tema_60", ">", "@functions/tema_90"],
                  {"op": "or",
                        "values": [
                            ["@functions/adx_5", ">", 20],
                            ["@func/ma_60", ">", "@functions/ma_90"]
                        ]
                  }
                ]
              }
            ]
          },
          "short": {
            "condition": [
              {"op": "and", "values": [
                ["@functions/adx_5", "<", 20],
                ["@functions/ma_60", "<", "@functions/ma_90"]
              ]}
            ]
          }
        },
        "exit": {
          "long": {
            "condition": [
              {"op": "and",
                "values": [
                  ["@functions/adx_5", "<", 20],
                  ["@functions/ma_60", "<", "@functions/ma_90"],
                  {"op": "or",
                        "values": [
                            ["@functions/adx_5", "<", 20],
                            ["@functions/ma_60", "<", "@functions/ma_90"]
                        ]
                  }
                ]
              }
            ]
          },
          "short": {
            "condition": [
              {"op": "and", "values": [
                ["@functions/adx_5", ">", 20],
                ["@functions/ma_60", ">", "@functions/ma_90"]
              ]}
            ]
          }
        },
        "order": {},
        "options": {
          "weekend_holding": false
        }
      },
      "coding": {
        "strategy": {"name": "StrategyBase", "version": "1.00.00"},
        "runner": {"name": "EAStrategyRunner", "version": "1.07.00"}
        }

    }
  }
]